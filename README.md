# Task4API
Задание 07.11.25

Дана база данных: it_company_1135 (192.168.200.13, mariadb)

К ней нужно разработать ряд контроллеров (все контроллеры делать не надо!! в списке отмечено, кто что делает).

Общие требования для api:
Настроить выдачу и проверку JWT-токенов (пример тут: https://github.com/stenly87/JwtSample_2025)
Каждый делает контроллер для авторизации!

Общие требования для контроллеров:
! UserSid не передаётся в URL или теле запроса, если это касается действий от имени текущего пользователя.
! Если операция требует указать другого пользователя (например, админ вручает бейдж), тогда userSid передаётся в теле запроса.
! Все методы GET /.../my/... и GET /.../me работают с данными текущего пользователя (из JWT).
! Все изменения (CreatedBy, ModifiedBy, DeletedBy) автоматически заполняются на основе UserSid из токена.
! Обработка методов по CQRS (используем медиатор, https://github.com/stenly87/MyMediator), принимаем и возвращаем DTO-объекты, обработка команд в хэндлерах
! Заметка: Методы PATCH предполагают работу не с полным DTO, а с DTO, в котором есть только изменяемый параметр (например: {"email": "newemail@example.com" })
! Заметка: Некоторые методы требуют проверки прав - в бд есть роли, проверяйте, что у текущего пользователя есть требуемая роль (добавьте роль, если не хватает)

Комп 4:
{
	ClientsController
	POST /clients/register ----> Зарегистрировать нового пользователя (публичный или админский эндпоинт).
	POST /clients/deactivate ----> Деактивировать пользователя (админский; тело: { userSid }).
	PATCH /clients/update-last-login ----> Обновить LastLoginAt для текущего пользователя (вызывается при входе).
	GET /clients/search ----> Поиск пользователей по ФИО/отделу (только для HR/админов).
	GET /clients/profile ----> Получить профиль текущего пользователя (без пароля).
}
